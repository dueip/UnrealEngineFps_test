# Lesta Games Start Test FPS Project
Небольшая игра с базовыми механиками шутера, а также небольшим тестовым уровнем, написанным на 99% на С++.
## Управление
- WASD 
- ЛКМ - Выстрел
- R - перезарядка
- Колёсико мышки - циклический выбор оружия
- 1, 2 - выбор оружия
- Q - перезапуск
- TAB - следующий игрок для отслеживания
## Основные синглплеерные фичи
- ALestaCharacter - Основной класс игрока. Хранит в себе оружия, ХПКомпонент, а также инвентарь. Все параметры настраивается через блюпринт игрока.
- Турели - Неподвижные акторы, которые умеют следить за игроком с помощью оверлапов. Имеют в себе небольшую стейт машину, в зависимости от которой уже и выбирают, атаковать или нет
  - Лазерная турель - Если находит игрока, то через несколько секунд поворачивается на него и начинает стрелять лазером. Переходит обратно в режим обнаружения, когда игрок выходит из поля зрения.
  - Гранатовая турель - Если находит игрока, то через несколько секунд поворачивается и запускает "самоуничтожение" (выстрел гранатой и уничтожение самой себя). При потере игрока всё равно самоуничтожится.
- Оружия
  - Лазер - Хитскан оружие, которое наносит урон на некоторое расстояние от игрока. Расстояние, цвет, урон и т.д. задаются через параметры.
  - Граната - АОЕ оружие, которое наносит урон по области. Рисует 2 сферы, зелёная сфера постоянно увеличивается. Чем больше она станет, тем больше урона нанесёт граната. Максимальный, минимальный урон, а также сколько вообще нужно -- всё задаётся через параметры.
- Куб - просто статический объект, у которого есть здоровье и которому можно нанести урон.
- Инвентарь - позволяет легко получать доступ к определенному оружию.
- Обойма - у каждого оружия есть ограниченное количество патронов. Сам держатель оружия и само оружие уже определяют, как с ними взаимодействовать с помощью виртуальных функций.
- UI - Анриловские виджеты, которые показывают:
  - Сколько у игрока ХП
  - Какое игрок использует оружие (вызывается виртуальная функция у интерфейся оружия)
  - Время перезарядки
  - Количество патронов
 
## Основные мультиплеерные фичи
В мультиплеер в целом переносится всё то, что было в синглплеере, однако с некоторыми добавлениями:
  - ALestaCharacter - Пришлось немного повозиться с ABP_Manny, но работают AimOffset'ы правильно.
  - Добавлен настраиваемый friendly-fire. Настраивается каждому отдельно.
  - Возможность голосования - Теперь игроки могут проголосовать за перезапуск. Если все игроки проголосуют, то запустится перезапуск уровня.
    - Время на перезапуск хранится в гейммоде.
    - Функции для определения количества игроков для голосования тоже в гейммоде.
    - В геймстейте хранится то, сколько игроков проголосовало.
  - Турели - турель следит за первым игроком, который попадётся в поле зрения.
  - Спектатор - Отдельный павн, который спавнится после смерти персонажа. Работает исключительно на клиенте, не реплецируется. Позволяет игроку наблюдать за другими, а с помщью TAB может отслеживать другого игрока.
  - UI - Небольшие добавления:
    - Сколько всего игроков
    - Сколько игроков из них проголосовали за перезапуск 
